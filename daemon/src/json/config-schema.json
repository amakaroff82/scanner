{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Daemon configuration file.",
  "definitions": {
    "cityConfig": {
      "description": "Builder configuration for specific city.",
      "type": "object",
      "properties": {
        "p0": {
          "type": "string"
        },
        "px": {
          "type": "string"
        },
        "py": {
          "type": "string"
        },
        "distancepx": {
          "type": "number"
        },
        "distancepy": {
          "type": "number"
        },
        "boxwidth": {
          "type": "number"
        },
        "boxdepth": {
          "type": "number"
        },
        "boxheight": {
          "type": "number"
        },
        "c1target": {
          "type": "string"
        },
        "c2target": {
          "type": "string"
        },
        "c3target": {
          "type": "string"
        },
        "c4target": {
          "type": "string"
        },
        "previewCameraIndex": {
          "type": "integer",
          "minimum": 0
        },
        "requiredFolders": {
          "description": "List of folder which must be present.",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "extends": {
      "description": "Path to base configuration file to inherit from.",
      "type": "string"
    },
    "inputRootFolder": {
      "description": "Path where scans are located.",
      "type": "string"
    },
    "monitorFolder": {
      "description": "Path where builder is working.",
      "type": "string"
    },
    "inputJSONName": {
      "description": "File name for scan configuration.",
      "type": "string"
    },
    "doneJSONName": {
      "description": "File name for processed scan configuration.",
      "type": "string"
    },
    "updateInterval": {
      "description": "Update interval in milliseconds.",
      "type": "integer",
      "minimum": 0
    },
    "cityConfigs": {
      "description": "Dictionary of cities configurations.",
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/cityConfig"
      }
    }
  },
  "if": {
    "properties": {
      "extends": {
        "const": ""
      }
    }
  },
  "then": {
    "required": [
      "inputRootFolder",
      "monitorFolder",
      "inputJSONName",
      "doneJSONName",
      "updateInterval"
    ]
  },
  "else": {
    "required": []
  }
}
